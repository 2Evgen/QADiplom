### **Перечень автоматизируемых сценариев**
**Валидные данные:**

- поле номер карты: 16 цифр.
- поле месяц: 2 цифры в диапазоне 01-12 (не ранее текущего месяца текущего года).
- поле год: 2 цифры (не ранее текущего года; не позднее 5 лет с текущего года).
- поле владелец: буквы латинского алфавита, имя - фамилия через дефис, сложное составное имя, иностранное имя.
- поле CVC: 3 цифры.

**Позитивные сценарии:**
1. Заполнить форму покупки тура валидными данными, оплата по дебетовой карте (номер карты: 1111 2222 3333 4441)

_Ожидаемый результат._ Заявка одобрена банком, появление сообщения об успешной оплате тура. В СУБД payment_entity сохраняется информация о том, каким способом был совершён платёж и успешно ли он был совершён, статус "APPROVED".

2. Заполнить форму покупки тура валидными данными, оплата по кредитной карте (номер карты: 1111 2222 3333 4441)

_Ожидаемый результат._ Заявка одобрена банком, появление сообщения об успешной оплате тура. В СУБД credit_request_entity сохраняется информация о том, каким способом был совершён платёж и успешно ли он был совершён, статус "APPROVED".

3. Заполнить форму покупки тура валидными данными, оплата по дебетовой карте (номер карты: 1111 2222 3333 4442)

_Ожидаемый результат._ Всплывающее окно "Ошибка!" появление сообщения об отказе в оплате тура. В СУБД payment_entity сохраняется информация о том, каким способом был совершён платёж и успешно ли он был совершён, статус "DECLINED".

4. Заполнить форму покупки тура валидными данными, оплата по кредитной карте (номер карты: 1111 2222 3333 4442)

_Ожидаемый результат._ Всплывающее окно "Ошибка!" появление сообщения об отказе в оплате тура. В СУБД credit_request_entity сохраняется информация о том, каким способом был совершён платёж и успешно ли он был совершён, статус "DECLINED".

**Негативные сценарии:**

1. Отправка пустой формы покупки тура, оплата по дебетовой карте

_Ожидаемый _результат.__ Все поля подсвечены красным цветом, сообщения об ошибке: «Неверный формат», «Поле обязательно для заполнения».

2. Отправка пустой формы покупки тура, оплата по кредитной карте

_Ожидаемый результат._ Все поля подсвечены красным цветом, сообщения об ошибке: «Неверный формат», «Поле обязательно для заполнения».

3. Оплата по дебетовой карте с истекшим сроком действия (месяц, предшествующий текущему; текущий год)

_Ожидаемый результат._ Поле "Месяц" подсвечено красным, сообщение об ошибке "Неверно указан срок действия карты".

4. Оплата по кредитной карте с истекшим сроком действия (месяц, предшествующий текущему; текущий год)

_Ожидаемый результат._ Поле "Месяц" подсвечено красным, сообщение об ошибке "Неверно указан срок действия карты".

5. Оплата по дебетовой карте с истекшим сроком действия (введен год ранее текущего)

_Ожидаемый результат._ Поле "Год" подсвечено красным, сообщение об ошибке "Истёк срок действия карты".

6. Оплата по кредитной карте с истекшим сроком действия (введен год ранее текущего)

_Ожидаемый результат._ Поле "Год" подсвечено красным, сообщение об ошибке "Истёк срок действия карты".

7. Валидация поля "Номер карты": пустое поле, ввод букв, ввод некорректных символов, ввод менее 16 цифр, ввод более 16 цифр, ввод только пробелов, ввод несуществующего номера карты.

_Ожидаемый результат._ Номер карты невалидный. Поле «Номер карты» подсвечивается красным цветом, сообщение об ошибке: «Неверный формат». Ввод некорректных символов недоступен.

8. Валидация поля "Месяц": пустое поле, ввод букв, ввод некорректных символов, ввод менее 2 цифр, ввод более 2 цифр, ввод цифр не входящих в валидный диапазон (01-12),ввод только пробелов.

_Ожидаемый результат._ Значение поля "Месяц" невалидно. Поле «Месяц» подсвечивается красным цветом, сообщение об ошибке: «Неверно указан срок действия карты». Ввод некорректных символов недоступен.

9. Валидация поля "Год": пустое поле, ввод букв, ввод некорректных символов, ввод менее 2 цифр, ввод более 2 цифр, ввод цифр не входящих в валидный диапазон (текущий год + 5 лет), ввод только пробелов.

_Ожидаемый результат._ Значение поля "Год" не валидно. Поле «Год» подсвечивается красным цветом, сообщение об ошибке: «Неверно указан срок действия карты». Ввод некорректных символов недоступен.

10. Валидация поля "Владелец": ввод букв на кириллице, некорректные символы, имя из 1 буквы, цифры в имени, ввод только пробелов, ввод только имени, ввод только фамилии.

_Ожидаемый результат._ Значение поля "Владелец" не валидно. Поле «Владелец» подсвечивается красным цветом, сообщение об ошибке: «Поле обязательно для заполнения». Ввод некорректных символов недоступен.

11. Валидация поля "CVC/CVV": пустое поле, ввод букв, ввод некорректных символов, ввод менее 3 цифр, ввод более 3 цифр, ввод только пробелов.

_Ожидаемый результат._ Значение поля "CVC/CVV" не валидно. Поле «CVC/CVV» подсвечивается красным цветом, сообщение об ошибке: «Неверный формат». Ввод некорректных символов недоступен.

**Перечень используемых инструментов с обоснованием выбора**

- Java - язык программирования для написания автотестов.
- IntelliJ IDEA - интеллектуальная среда разработки, которая понимает код.
- Gradle - система автоматической сборки.
- TestNG - тестовая среда для управления состоянием SUT 
- Faker - генерация рандомных данных (имя, номер телефона, электронный адрес).
- Selenide - Фреймворк для автоматизированного тестирования.
- Allure - Фреймворк для генерации отчета.
- Git - распределённая система управлениями версиями.
- GitHub - используется для хранения кода, в том числе автотестов.
- Docker - система контейнерезации. Позволит подключить и использовать данные из БД.
- DBeaver - инструмент для работы с базами данных.
- Lombok - фреймворк для автогенерации кода с целью улучшить читаемость тестов.
- REST Assured - популярный инструмент для отправки REST запросов.


**Перечень и описание возможных рисков при автоматизации**

- Из-за требование совместимости с двумя БД: MySQL, PostgreSQL, могут возникнут проблемы с разностью диалектов SQL.
- После каждого прогона тестов необходимо очистить БД от записей.
- Потеря актуальности тестов UI при любом изменение в дизайне.
- Неоправданная стоимость автоматизации.
- Искажение результатов тестирования в связи с отсутствием доступа к реальным данным пользователей.
- Отсутствие test_id,как следствие увеличение времени автоматизации.
- Отсутствие документации.


**Интервальная оценка с учётом рисков (в часах)**

- Необходимое время на тестирование составляет с учетом рисков - 116 часов:
- Подключение CI (дополнительно): 3 - 4 часа 
- Подготовка окружения, развертывание БД - 8 часов;
- Написание автотестов и отладка - 96 часов;
- Формирование отчетов - 12 часов;


**План сдачи работ (готовые авто-тесты, результаты их прогона и отчёт по автоматизации)**
1. Авто-тесты готовы 15.11.2022
2. Баг-репорты и отчёт по результатам тестов: 17.11.2022
3. Отчёт по результатам автоматизации: 19.11.2022